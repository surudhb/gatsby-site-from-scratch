{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./src/utils/helpers.js"],"names":["data","allProjects","allMarkdownRemark","edges","allFeaturedImages","allFile","featuredImageMap","Utils","getImageMap","title","className","map","node","key","id","to","fields","slug","featuredImages","frontmatter","query","images","regex","hasMultipleImages","limit","reduce","image","relativePath","match","hasOwnProperty","length","push","childImageSharp","fluid","arr","getInstitutionClass","name","includes"],"mappings":"8FAAA,8FAMe,sBAAe,IAAZA,EAAW,EAAXA,KACVC,EAAcD,EAAKE,kBAAkBC,OAAS,GAC9CC,EAAoBJ,EAAKK,QAAQF,OAAS,GAE1CG,EAAmBC,IAAMC,YAAYJ,EAD7B,sBACuD,EAAM,GAE3E,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKK,MAAM,aACX,kBAAC,IAAD,CAAWA,MAAM,aACjB,yBAAKC,UAAU,aACb,yBAAKA,UAAU,OACZT,EAAYU,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACf,yBAAKF,UAAU,OACb,kBAAC,IAAD,eACEG,IAAKD,EAAKE,GACVC,GAAIH,EAAKI,OAAOC,KAChBC,eAAgBZ,EAAiBM,EAAKI,OAAOC,OACzCL,EAAKO,sBAUlB,IAAMC,EAAK,a,0KClCH,GACbZ,YAAa,SAACa,EAAQC,EAAOC,EAA2BC,GACtD,YADoE,IAAzCD,OAAoB,QAAqB,IAAdC,MAAQ,GACvDH,EAAOI,QAAO,SAACd,EAAKe,GACzB,IAAMT,EAAOS,EAAMd,KAAKe,aAAaC,MAAMN,GAAO,GAClD,GAAIC,EACF,GAAIZ,EAAIkB,eAAeZ,GACjBN,EAAIM,GAAMa,QAAUN,GACtBb,EAAIM,GAAMc,KAAKL,EAAMd,KAAKoB,gBAAgBC,WACvC,CACL,IAAMC,EAAM,GACZA,EAAIH,KAAKL,EAAMd,KAAKoB,gBAAgBC,OACpCtB,EAAIM,GAAQiB,OAGdvB,EAAIM,GAAQS,EAAMd,KAAKoB,gBAAgBC,MAEzC,OAAOtB,IACN,KAELwB,oBAAqB,SAAAC,GACnB,OAAIA,EAAKC,SAAS,YACV,gBACGD,EAAKC,SAAS,UACjB,cAEA","file":"component---src-pages-projects-js-e4b94ab5a26dc484a31d.js","sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport { PageLayout, PageTitle, ProjectLink } from \"../components\"\nimport { SEO, Utils } from \"../utils\"\nimport Container from \"react-bootstrap/Container\"\n\nexport default ({ data }) => {\n  const allProjects = data.allMarkdownRemark.edges || []\n  const allFeaturedImages = data.allFile.edges || []\n  const regex = /\\/[projects].*\\/|$/\n  const featuredImageMap = Utils.getImageMap(allFeaturedImages, regex, true, 3)\n\n  return (\n    <PageLayout>\n      <SEO title=\"Projects\" />\n      <PageTitle title=\"Projects\" />\n      <div className=\"text-left\">\n        <div className=\"row\">\n          {allProjects.map(({ node }) => (\n            <div className=\"col\">\n              <ProjectLink\n                key={node.id}\n                to={node.fields.slug}\n                featuredImages={featuredImageMap[node.fields.slug]}\n                {...node.frontmatter}\n              />\n              </div>\n          ))}\n        </div>\n      </div>\n    </PageLayout>\n  )\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: \"/projects/\" } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          timeToRead\n          frontmatter {\n            title\n            github\n            live\n            inProgress\n            tags\n            date(formatString: \"DD MMMM, YYYY\")\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n    allFile(\n      filter: {\n        extension: { eq: \"png\" }\n        relativePath: { regex: \"/feature/\" }\n        relativeDirectory: { regex: \"/content/projects/\" }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 800) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n          relativePath\n        }\n      }\n    }\n  }\n`\n","export default {\n  getImageMap: (images, regex, hasMultipleImages = false, limit = 3) => {\n    return images.reduce((map, image) => {\n      const slug = image.node.relativePath.match(regex)[0]\n      if (hasMultipleImages) {\n        if (map.hasOwnProperty(slug)) {\n          if (map[slug].length <= limit)\n            map[slug].push(image.node.childImageSharp.fluid)\n        } else {\n          const arr = []\n          arr.push(image.node.childImageSharp.fluid)\n          map[slug] = arr\n        }\n      } else {\n        map[slug] = image.node.childImageSharp.fluid\n      }\n      return map\n    }, {})\n  },\n  getInstitutionClass: name => {\n    if (name.includes(\"Waterloo\")) {\n      return `waterloo-link`\n    } else if (name.includes(\"Ottawa\")) {\n      return `ottawa-link`\n    } else {\n      return `nd-link`\n    }\n  },\n}\n"],"sourceRoot":""}